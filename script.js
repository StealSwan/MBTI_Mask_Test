

//ì œëª©
$(document).ready(function() {
    $(".title").lettering();
    $(".button").lettering();
});





$(document).ready(function() {
  animation();
}, 1000);

$('.button').click(function() {
  animation();
});


function animation() {
  var title1 = new TimelineMax();
  title1.to(".button", 0, {visibility: 'hidden', opacity: 0})
  title1.staggerFromTo(".title span", 0.5, 
  {ease: Back.easeOut.config(1.7), opacity: 0, bottom: -80},
  {ease: Back.easeOut.config(1.7), opacity: 1, bottom: 0}, 0.05);
  title1.to(".button", 0.2, {visibility: 'visible' ,opacity: 1})
}
        

// ë²„íŠ¼ ì´ë²¤íŠ¸
$('.fun-btn').on('click', function(event) {
    $(this).toggleClass('start-fun');
    var $page = $('.page');
    $page.toggleClass('color-bg-start')
      .toggleClass('bg-animate-color');
  
    //change text when when button is clicked
  
    $(this).hasClass('start-fun') ?
      $(this).text('stop the fun') :
      $(this).text('start the fun');
  
  });


        
        //í˜„ì¬ ëª‡ë²ˆ ë¬¸ì œì— ìˆëŠ”ì§€ ë³€ìˆ˜ë¡œ ì„¤ì •
        var num = 1;

        //ë¬¸ì œ ì •ë³´ KEY-VALUE í˜•íƒœë¡œ ì €ì¥
        //ë¬¸ì œì´ë¦„ + íƒ€ì…ì •ë³´ + ê° ì„ íƒì§€ ì˜í–¥ íƒ€ì…ìš”ì†Œ
        var q= {
            1:{"title1":"Q1",
                "title2":"ì˜¤ëœë§Œì— íœ´ì¼. ë‚˜ëŠ”",
                "type":"EI",
                "A":"ì§‘ ì•ˆì€ ë‹µë‹µí•´! ë°–ì— ë‚˜ê°€ì„œ ë…¼ë‹¤.",
                "B":"ë‚˜ê°€ê¸° ê·€ì°®ì•„... ë‹¹ë‹¹íˆ ì§‘ì½•í•œë‹¤."},

            2:{"title1":"Q2",
                "title2":"ì¡°ë³„ê³¼ì œë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë‹¨í†¡ë°©. ë‚˜ëŠ”",
                "type":"EI",
                "A":"ë¨¼ì € ì¹´í†¡ì„ ë³´ë‚¸ë‹¤.",
                "B":"ìš°ì„  ì¡°ìš©íˆ ìƒí™©ì„ ì‚´í•€ë‹¤."},
                
            3:{"title1":"Q3",
                "title2":"í™”ë ¤í•œ ë„ì‹œì™€ ê³ ìš”í•œ ìˆ². ë‚˜ëŠ”",
                "type":"EI",
                "A":"í™”ë ¤í•œ ë„ì‹œ",
                "B":"ê³ ìš”í•œ ìˆ²"},

            4:{"title1":"Q4",
                "title2":"ê³µë¶€í•˜ê¸° ì‹«ì„ ë•Œ ë‚˜ëŠ”",
                "type":"SN", 
                "A":"ë²”ìœ„ê°€ ì¤„ì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤.", 
                "B":"...ì‹œí—˜ì„ ëŒ€ì²´ ì™œ ë´ì•¼ í•˜ëŠ” ê±°ì§€?"},

            5:{"title1":"Q5",
                "title2":"ë‚´ ìƒì‚¬ë¥¼ ì§ì ‘ ê³ ë¥¼ ìˆ˜ ìˆë‹¤ë©´ ë‚˜ëŠ”",
                "type":"SN",
                "A":"í•  ì¼ì„ êµ¬ì²´ì ìœ¼ë¡œ ì§€ì‹œí•´ì£¼ëŠ” ìƒì‚¬",
                "B":"ë°©í–¥ë§Œ ì œì‹œë§Œ í•˜ëŠ” ììœ¨ì ì¸ ìƒì‚¬"},

            6:{"title1":"Q6",
                "title2":"ì–´ë”˜ê°€ ëª©ì ì§€ë¡œ í–¥í•  ë•Œ ë‚˜ëŠ”", 
                "type":"SN", 
                "A":"ëŠ˜ ê°€ë˜ ê¸¸ë¡œ ë¹ ë¥´ê²Œ ê°„ë‹¤", 
                "B":"ê°€ë”ì”©ì€ ìƒˆë¡œìš´ ê¸¸ë¡œ ë“¤ì–´ì„ ë‹¤"},

            7:{"title1":"Q7",
                "title2":"ë²šê½ƒì´ ì§€ëŠ”ê±¸ ë³´ë©° ë‚˜ëŠ”", 
                "type":"TF", 
                "A":"ê³§ ë‹¤ê°€ì˜¬ ì—¬ë¦„ì„ ìƒê°í•œë‹¤.", 
                "B":"ê°ìƒì— ì –ì–´ ì‚¬ìƒ‰í•œë‹¤."},

            8:{"title1":"Q8",
                'title2':'"í•œë²ˆ ìƒê°í•´ë³¼ê²Œ"ë¼ëŠ” ë§ì˜ ëœ»ì€', 
                "type":"TF", 
                "A":"ë§ê·¸ëŒ€ë¡œ í•œë²ˆ ìƒê°í•´ë³¸ë‹¤ëŠ” ëœ»ì´ë‹¤.", 
                "B":"ëŒ€ì¶© ëŒë ¤ì„œ ê±°ì ˆí•˜ëŠ” ëœ»ì´ë‹¤."},

            9:{"title1":"Q9",
                "title2":"ë„ˆ í˜ë“¤ì–´ ë³´ì—¬ì„œ ì•„ì´ìŠ¤í¬ë¦¼ ì‚¬ì™”ì–´", 
                "type":"TF", 
                "A":"ë‚´ê°€ í˜ë“¤ì–´ ë³´ì˜€ë‹¤ê³ ???", 
                "B":"(ê²©í•˜ê²Œ ê°ë™í•˜ë©°) ë„ˆë¬´ ê³ ë§ˆì›Œ!!!"},

            10:{"title1":"Q10",
                "title2":"ë§Œì•½ ì—¬í–‰ì„ ë– ë‚œë‹¤ë©´ ë‚˜ëŠ”", 
                "type":"JP", 
                "A":"ë¯¸ë¦¬ ìµœëŒ€í•œ ê³„íšì„ ì„¸ì›Œë†“ëŠ”ë‹¤.", 
                "B":"ì¦‰í¥ì ìœ¼ë¡œ ë‚´í‚¤ëŠ” ê³³ìœ¼ë¡œ í–¥í•œë‹¤."},

            11:{"title1":"Q11",
                "title2":"ì²­ì†Œë¥¼ í•  ë•Œ ì¶”ì–µì˜ ë¬¼ê²¬ì„ ë°œê²¬í•œë‹¤ë©´?", 
                "type":"JP", 
                "A":"ë­ê°€ ëë“  ì¼ë‹¨ ì²­ì†Œë¶€í„° ëë‚¸ë‹¤.", 
                "B":"ì†ì„ ë©ˆì¶”ê³  ì¶”ì–µì— í‘¹ ì ê¸´ë‹¤."},

            12:{"title1":"Q12",
                "title2":"ê³¼ì œë¥¼ í• ë•Œ ë‚˜ëŠ”", 
                "type":"JP", 
                "A":"ê³„íšì„ ì„¸ì›Œ ì™„ì„±ì¼ì„ ì¡ì•„ë‘”ë‹¤", 
                "B":"ìµœëŒ€í•œ ë¯¸ë£¨ë‹¤ ë§ˆê°ì— ë§ì¶° ì™„ì„±ì‹œí‚¨ë‹¤"},
        }


        //MBTI ê²°ê³¼ë¥¼ í‚¤ë¡œ í•˜ëŠ” ì •ë³´ ì €ì¥
        var result = {
            //ì†ì„±ì„ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ë©´ ë” ì¶”ê°€í•´ë„ ë¨
            "ISTJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "ğŸ˜„ë¶ˆì˜ë¥¼ ì°¸ì§€ ëª»í•˜ëŠ” ì •ì˜ì˜ ì‚¬ë„ğŸ˜„",
                    "explain2": "",
                    "explain3": "",
                    "img": "result1.png"},


            "ISFJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "INFJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "INTJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "ISTP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "ISFP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "INFP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "INTP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},
            
            "ESTP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},
            
            "ESFP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "ENFP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "ENTP": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "ESTJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},

            "ESFJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},
                    
            "ENFJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"},
                    
            "ENTJ": {"character":"ì†Œê¸ˆí˜•",
                    "mask": "ê°€ë©´ë¼ì´ë” ê°€ë©´",
                    "explain1": "",
                    "explain2": "",
                    "explain3": "",
                    "img": "ì´ì „ê²ƒ/ê°€ë©´ë¼ì´ë”.png"}
        }


        //ì‹œì‘ë²„íŠ¼ ëˆ„ë¥´ë©´ ì´ˆê¸°í™”ë©´ ì‚¬ë¼ì§€ê³ , ë¬¸ì œëŠ” ë³´ì´ê²Œ
        function start(){
            $(".start").hide();
            $(".question").show();
            $(".container2").hide();

            //ì‹œì‘ë²„íŠ¼ ëˆ„ë¥¼ ê²½ìš°, ì‹œì‘í™”ë©´ ìˆ¨ê¸°ê³  ë¬¸ì œí™”ë©´ ë³´ì—¬ì£¼ë©° ì²«ë²ˆì§¸ ë¬¸ì œ
            next();
        }


        //ê° ë²„íŠ¼ í´ë¦­ì‹œ ì ìˆ˜ìƒìŠ¹ í•¨ìˆ˜ - idê°€ Aì¸ ë²„íŠ¼ í´ë¦­ì‹œ
        $("#A").click(function(){
            var type = $("#type").val();

            //í•´ë‹¹ íƒ€ì… ì•„ì´ë””ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ê°€ì ¸ì˜´
            var preValue = $("#"+type).val();

            //í˜•ë³€í™˜ í›„ ì´ì „ ê°’ì—ì„œ 1 ê°’ ì¶”ê°€
            $("#"+type).val(parseInt(preValue)+1);

            //ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°
            next();
        });

        //Bë²„íŠ¼ì€ ì ìˆ˜ ì¦ê°€í•  í•„ìš”ê°€ ì—†ìŒ
        $("#B").click(function(){
            
            //ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°
            next();
        });



        //ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°€ëŠ” í•¨ìˆ˜ ì„¤ì •
        function next(){

            //ë§Œì•½ ë¬¸ì œê°€ ëë²ˆí˜¸ ì´í›„ë¡œ ë„˜ì–´ê°€ë©´ - ë§ˆì§€ë§‰ ë¬¸ì œ ì´í›„
            if(num==13){

                //ë¬¸ì œëŠ” ì¦‰ì‹œ ìˆ¨ê¸°ê³  ë¡œë”©ì°½ì€ ì¦‰ì‹œ ë³´ì´ê²Œ
                $(".question").hide();
                $(".loading").show();
                
                
                //ë¡œë”© í›„ 3ì´ˆ ë’¤ì— ë³´ì´ê²Œ í•˜ê¸° 
                setTimeout(function() {

                    $(".loading").hide();

                    $(".result").show();
    
                    //MBTIë¥¼ êµ¬í•˜ëŠ” ìµœì¢… ë¡œì§
                    var mbti = "";
                    
                    //ì‚¼í•­ì—°ì‚°ì
                    ($("#EI").val() < 2) ? mbti+="I" : mbti+="E";
                    ($("#SN").val() < 2) ? mbti+="N" : mbti+="S";
                    ($("#TF").val() < 2) ? mbti+="F" : mbti+="T";
                    ($("#JP").val() < 2) ? mbti+="P" : mbti+="J";
                    
                    //alert(mbti);
    
                    //
                    $("#img").attr("src",result[mbti]["img"]);
                    $("#animal").html(result[mbti]["animal"]);
                    $("#explain").html(result[mbti]["explain"]);

                    }, 3000);


            }  else{ //ë§ˆì§€ë§‰ ë¬¸ì œê°€ ì•„ë‹ ê²½ìš°

                //ë¬¸ì œ ë²ˆí˜¸ì— ë”°ë¼ í”„ë¡œê·¸ë˜ìŠ¤ ë°” ì¦ê°€   
                //$(".progress").attr('style','width: calc(100/12*'+num+'%)');

                $(".progress").animate({width: (100/12*+num+'%')},400);

                //$(".progress").animate({width:"+=28px"},800);


                //ë¬¸ì œì— í•´ë‹¹í•˜ëŠ” id - html ì•ˆì— ìˆëŠ” - q ì•ˆì˜ num ë²ˆì§¸ "title"ë¡œ ëŒ€ì²´
                $("#title1").html(q[num]["title1"]);
                $("#title2").html(q[num]["title2"]);
                $("#type").val(q[num]["type"]);
                $("#A").html(q[num]["A"]);
                $("#B").html(q[num]["B"]);

                num++;
            }
        }

